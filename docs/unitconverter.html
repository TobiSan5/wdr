<!DOCTYPE html>
<html>
	<head>
		<title>Unit Converter</title>
		<link rel="stylesheet" href="style.css">		
		<script src="jquery-3.1.1.js"></script>
		<script src="homebrew.js"></script>
		<script>
		
$(document).ready(function(){
	$("#calc_form").on("click", ".btn1", runConvert);
	});

function runConvert() {
	var p1 = parseFloat($("#value").val());
	var p2 = $("#inp_unit").val();
	var p3 = $("#out_unit").val();
	alert(p1 + " " + p2 + " " + p3);
	try {
		var res = p1 * unitArray[keyify(p3)][keyify(p2)];
	}
	catch(err) {
		var res = p1 / unitArray[keyify(p2)][keyify(p3)];
	}
	finally {
		res = res.toExponential()
	}
	$("#result").val(res);
	$("#res_unit").val(p3);
};
		</script>
	</head>
	
	<body>
		
		<header>
			<h1>The Unit Converter</h1>
			<p>
				Convert between multible types of moisture related units with the converter form. 
				Just fill out the value, its type of unit and the unit which you want to convert to.
			</p>
		</header>
		
		<nav>
		</nav>
		
		<article>
			<aside>
			</aside>
			
			<form id="calc_form" method="get">
				<h2>The converter form</h2>
				<section>
				<h3>Input</h3>
					<label for="value">Input value<br /></label>
					<input id="value" type="text" name="value"/>
					<label for="inp_unit"><br />Select input value unit<br /></label>
					<select id="inp_unit" >
						<option value="m2sPa/kg">m2sPa/kg</option>
						<option value="m2sGPa/kg">m2sGPa/kg</option>
						<option value="m2hPa/g">m2hPa/g</option>
						<option value="m2hmmHg/g">m2hmmHg/g</option>
						<option value="s/m">s/m</option>
						<option value="m">m (S_d-value)</option>
						<option value="m/s">m/s</option>
						<option value="g/(m2hPa)">g/(m2hPa)</option>
						<option value="g/(m2hmmHg)">g/(m2hmmHg)</option>
						<option value="kg/(msGPa)">kg/(msGPa)</option>
						<option value="kg/(m2sPa)">kg/(m2sPa) (W_p-value)"</option>
						<option value="g/(mhPa)">g/(mhPa)</option>
						<option value="g/(mhmmHg)">g/(mhmmHg)</option>
						<option value="m2/s">m2/s</option>
						<option value="US perm">US perm (gn/(h*ft2*inHg))</option>
					</select>
				</section>
				
				<section>
				<h3>Output</h3>
					<label for="out_unit">Select desired output value<br /></label>
					<select id="out_unit" >
						<option value="m">m (S_d-value)</option>
						<option value="m2sPa/kg">m2sPa/kg (Z_p-value)</option>
						<option value="kg/(m2sPa)">kg/(m2sPa) (W_p-value)</option>
						<option value="kg/(msPa)">kg/(msPa) (delta_p-value)</option>
						<option value="Metric perm">Metric perm (g/(day*m2*mmHg))</option>
					</select>
					<button id="btn1" name="btn1" type="button">Calculate</button><br />
					<label for="result">Calculated value<br /></label>
					<input type="text" disabled="disabled" id="result" name="result">
					<input type="text" disabled="disabled" id="res_unit">
				</section>
			</form>
			
		</article>
		
		<footer>
			<br />
			<p>-----------<br />
		    Our Pricacy Policy: You're highly respected<br />
			</p>
		</footer>
	</body>	

	
